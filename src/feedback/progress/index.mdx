---
name: Progress
menu: Feedback
---

import { Playground, Props } from "docz";

import Progress from "./Progress.js";
import Button from "../../general/button/Button.js";
import Icon from "../../general/icon/Icon.js";
import { useEffect } from "react";

# Progress

Uma barra de progresso de uma tarefa.

## Quando usar?

- Quando você precisa mostrar o progresso de uma tarefa.
- Quando uma operação não deve interromper a interface do usuário.

## Exemplos

### Uso Básico

<Playground>
{
  () => {
    const [value, setValue] = React.useState(0);

    increment = () => setValue(prev => (prev < 100) ? prev + 10 : prev);
    decrement = () => setValue(prev => (prev > 0) ? prev - 10 : prev);
    reset = () => setValue(0);

    return (
      <>
        <div style={{ display: 'flex', width: '100%', justifyContent: 'center' }}>
          <Button onClick={increment} style={{ margin: '5px' }}>Aumentar</Button>
          <Button onClick={decrement} style={{ margin: '5px' }}>Diminuir</Button>
          <Button onClick={reset} style={{ margin: '5px' }}>Reiniciar</Button>
        </div>
        <Progress current={value} showLabel />
      </>
    );
  }
}

</Playground>

### Simulação

O propósito principal do componente é mostrar o progresso de uma tarefa.
Observe a simulação do comportamento do componente.

<Playground>
{
  () => {
    const [value, setValue] = React.useState(0);

    const init = () => {
      const timer = useTimer = () => {
        value < 100 &&
        setTimeout(() => {
          setValue(prev => (prev + 15 < 100) ? prev + 15 : 100);
          useTimer();
        }, Math.floor((Math.random() * 1000) + 200));
      }
      timer();
      return () => clearTimeout(timer);
    };
    const reset = () => { clearTimeout(timer); setValue(0); }
    const customStyle = () => value >= 100 && { backgroundColor: '#54b14f' }

    return (
      <>
        <div style={{ display: 'flex', width: '100%', justifyContent: 'center' }}>
          <Button onClick={init} style={{ margin: '5px' }}>Iniciar</Button>
          <Button onClick={() => setValue(0)} style={{ margin: '5px' }}>Reiniciar</Button>
        </div>
        <Progress current={value} showLabel />
      </>
    );
  }
}

</Playground>

### Customizando a barra de progresso

- Utilizando **ícones** na label da barra de progresso.
- Alterando a **cor** quando a tarefa é concluída.

<Playground>
{
  () => {
    const [value, setValue] = React.useState(0);

    const increment = () => setValue(prev => (prev < 100) ? prev + 25 : prev);
    const decrement = () => setValue(prev => (prev > 0) ? prev - 25 : prev);
    const reset = () => setValue(0);

    const customStyle = () => {
      return value >= 100 ? { backgroundColor: '#54b14f' } : { backgroundColor: '#87CEEB' }
    }

    return (
      <>
        <div style={{ display: 'flex', width: '100%', justifyContent: 'center' }}>
          <Button onClick={increment} style={{ margin: '5px' }}>+</Button>
          <Button onClick={decrement} style={{ margin: '5px' }}>-</Button>
          <Button onClick={reset} style={{ margin: '5px' }}>Reiniciar</Button>
        </div>
        <Progress current={value} showLabel
          customLabel={[
            <Icon kind="bold" group="interface-essential" category="alerts" file="alert-diamond.svg" size="16" color="#F9C318" />,
            <Icon kind="bold" group="interface-essential" category="alerts" file="alert-diamond.svg" size="16" color="#F9C318" />,
            <Icon kind="bold" group="interface-essential" category="form-validation" file="check-circle-1.svg" size="16" color="#54B14F" />
          ]}
          styleProgress={customStyle()} />
      </>
    );
  }
}

</Playground>

- Alternando entre texto e ícones na label da barra de progresso.

<Playground>
{
  () => {
    const [value, setValue] = React.useState(0);

    const increment = () => setValue(prev => (prev < 100) ? prev + 25 : prev);
    const decrement = () => setValue(prev => (prev > 0) ? prev - 25 : prev);
    const reset = () => setValue(0);

    const customStyle = () => {
      return value >= 100 ? { backgroundColor: '#54b14f' } : { backgroundColor: '#87CEEB' }
    }

    return (
      <>
        <div style={{ display: 'flex', width: '100%', justifyContent: 'center' }}>
          <Button onClick={increment} style={{ margin: '5px' }}>+</Button>
          <Button onClick={decrement} style={{ margin: '5px' }}>-</Button>
          <Button onClick={reset} style={{ margin: '5px' }}>Reiniciar</Button>
        </div>
        <Progress current={value} showLabel
          customLabel={[
            <span>Aguardando...</span>,
            <span>{value}%</span>,
            <Icon kind="bold" group="interface-essential" category="form-validation" file="check-circle-1.svg" size="16" color="#54B14F" />]}
          styleProgress={customStyle()} />
      </>
    );

  }
}

</Playground>

- Adicionando uma animação de loading a barra de progresso.

<Playground>
{
  () => {
    const [value, setValue] = React.useState(0);

    const init = () => {
      const timer = useTimer = () => {
        value < 100 &&
        setTimeout(() => {
          setValue(prev => (prev + 1 < 100) ? prev + 1 : 100);
          useTimer();
        }, Math.floor((Math.random() * 1000) + 250));
      }
      timer();
      return () => clearTimeout(timer);
    };
    const reset = () => { clearTimeout(timer); setValue(0); }
    const customStyle = () => value >= 100 && { backgroundColor: '#54b14f' }

    return (
      <>
        <div style={{ display: 'flex', width: '100%', justifyContent: 'center' }}>
          <Button onClick={() => setValue(0)} style={{ margin: '5px' }}>Reiniciar</Button>
          <Button onClick={init} style={{ margin: '5px' }}>Iniciar</Button>
        </div>
        <Progress current={value} showLabel loading
          styleProgress={customStyle() || {}} />
      </>
    );
  }
}
</Playground>

## API

### Progress

<Props of={Progress} />
